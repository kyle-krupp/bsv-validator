(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{152:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),s=n(29),i=n.n(s),r=(n(151),n(152),n(63)),o=n(40),l=n(271),d=function(e){return Object(c.jsx)(l.a,{className:"card",bordered:!1,children:e.children})},j=n(95),h=n(26),m=n(50),p=n.n(m),u=n(70),b=n(46),x=n(270),O=n(84),g=n(272),f=n(273),y=n(141),w=n(130),v=n.n(w),T=n(274),S=function(e){return Object(c.jsx)(r.a,{justify:"center",align:"middle",className:"send-gift-section",children:Object(c.jsxs)(o.a,{xs:{span:18},lg:{span:12},children:[Object(c.jsx)(r.a,{justify:"center",children:Object(c.jsx)("img",{src:"https://mitto-bsv-gifter.s3.amazonaws.com/payment-generated-success.png",alt:"success",style:{marginBottom:"30px"}})}),Object(c.jsxs)(r.a,{justify:"center",children:[Object(c.jsx)("h1",{style:{color:"#21CA8A",textAlign:"center"},children:"Email Sent!"}),Object(c.jsx)("p",{style:{color:"#5A728A",fontSize:"20px",textAlign:"center"},children:"Recipient will be asked to download HandCash. They will receive your gift to get started with BSV."}),Object(c.jsx)("p",{style:{color:"#5A728A",fontSize:"15px",textAlign:"center"},children:"Alternatively share this url with the recipient:"}),Object(c.jsx)(y.a,{className:"button send-gift-copy",style:{backgroundColor:"white",color:"#A6B0C3",borderColor:"#A6B0C3"},type:"primary",icon:Object(c.jsx)(T.a,{}),onClick:function(){return navigator.clipboard.writeText(e.redemptionUrl)},children:"Copy Secret URL"},"console")]})]})})},k=function(){var e,t=Object(h.f)(),n=window.location.href.includes("localhost")?"localhost:3000":"https://mitto.cash",s=x.a.useForm(),i=Object(b.a)(s,1)[0],l=Object(a.useState)(!1),j=Object(b.a)(l,2),m=j[0],w=j[1],T=Object(a.useState)({}),k=Object(b.a)(T,2),C=k[0],F=k[1],A=Object(a.useState)(!1),M=Object(b.a)(A,2),I=M[0],z=M[1],N=Object(a.useState)(""),H=Object(b.a)(N,2),B=H[0],E=H[1],L=Object(a.useState)(""),P=Object(b.a)(L,2),q=P[0],Q=P[1],U=new URLSearchParams(window.location.search).get("authToken").split("&").toString();localStorage.setItem("authToken",U);var J=null===C||void 0===C||null===(e=C.name)||void 0===e?void 0:e.replace(/\s+/g,"");!!localStorage.getItem("redemptionToken")&&t.push("redeem/gift?authToken=".concat(U));var R=function(){var e=Object(u.a)(p.a.mark((function e(t,c,a){var s,i,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({giverHandcashAuthToken:U,amount:c,currencyCode:C.currency,receiverEmail:t,note:a})},e.next=3,fetch("https://api.mitto.cash/gift",s);case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,E(r.redemptionToken),Q("".concat(n,"/redeem?redemptionToken=").concat(r.redemptionToken)),sessionStorage.setItem("redemptionToken",r.redemptionToken);case 10:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handCashAuthToken:U})},e.next=3,fetch("https://api.mitto.cash/login",t);case 3:return n=e.sent,e.t0=F,e.next=7,n.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();z(!0),e(),z(!1)}),[U]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(r.a,{children:Object(c.jsx)(o.a,{xs:{span:8,offset:12},lg:{span:6,offset:16},children:Object(c.jsxs)(r.a,{className:"info-row",gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(c.jsx)(o.a,{xs:{span:10},lg:{span:4},children:Object(c.jsx)(O.a,{placement:"bottom",title:"This is your local currency. You can update your currency by changing the wallet settings in the HandCash app.",children:Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/info-icon.png",alt:"info"})})}),Object(c.jsx)(o.a,{xs:{span:10},lg:{span:4},children:Object(c.jsxs)("button",{className:"ant-btn ant-btn-primary local-currency",children:[v()(C.currency),C.currency]})})]})})}),m?Object(c.jsx)(S,{redemptionToken:B,redemptionUrl:q}):I?"loading..":Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(r.a,{className:"container",children:Object(c.jsxs)(d,{children:[Object(c.jsx)(g.a,{src:C.profilePictureUrl,size:{xs:80,sm:80,md:80,lg:80,xl:80,xxl:80}}),Object(c.jsxs)("h3",{id:"userName",children:["$",J]}),Object(c.jsxs)(x.a,{layout:"vertical",form:i,onFinish:function(e){R(e.email,e.amount,e.note),w(!0)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(c.jsxs)(x.a.Item,{children:[Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/recipient-icon.png",alt:"recipient",className:"form-icon"}),Object(c.jsx)(x.a.Item,{name:"email",children:Object(c.jsx)(f.a,{placeholder:"Enter recipient's email address"})})]}),Object(c.jsxs)(x.a.Item,{children:[Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/amount-icon.png",alt:"amount",className:"form-icon"}),Object(c.jsx)(x.a.Item,{name:"amount",children:Object(c.jsx)(f.a,{placeholder:"Enter amount"})})]}),Object(c.jsxs)(x.a.Item,{children:[Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/description-icon.png",alt:"description",className:"form-icon"}),Object(c.jsx)(x.a.Item,{name:"note",children:Object(c.jsx)(f.a,{placeholder:"Add a description"})})]}),Object(c.jsx)(x.a.Item,{children:Object(c.jsxs)(y.a,{className:"send-button",type:"primary",htmlType:"submit",children:[Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/send-icon.png",alt:"send",className:"button-icon"}),"Send"]})})]})]})})})]})},C=function(){var e=new URLSearchParams(window.location.search).get("redemptionToken");localStorage.setItem("redemptionToken",e);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{style:{color:"white"},children:"You got some money! Login with HandCash to redeem"}),Object(c.jsx)("div",{onClick:function(){return window.location.href="https://app.handcash.io/#/authorizeApp?appId=5fff949f4033300c3d87aed1"},id:"connectButton","app-id":"123-456",children:"Connect with HandCash"})]})},F=function(){var e=Object(a.useState)(200),t=Object(b.a)(e,2),n=t[0],s=t[1],i=localStorage.getItem("authToken"),r=localStorage.getItem("redemptionToken"),o=function(){var e=Object(u.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverHandCashAuthToken:i,redemptionToken:r})},e.next=3,fetch("https://api.mitto.cash/gift/redeem",t);case 3:n=e.sent,s(n.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o(),localStorage.clear()}),[]),Object(c.jsx)("div",{style:{color:"white"},children:200===n?"Redemption success! Check your HandCash wallet for $$$":"oops, something went wrong.."})},A=n(275),M=n(51),I=A.a.Header,z=function(){var e=Object(M.useMediaQuery)({query:"(min-device-width: 1224px)"}),t=Object(M.useMediaQuery)({query:"(max-width: 1224px)"}),n=Object(M.useMediaQuery)({query:"(max-width: 850px)"});return Object(c.jsxs)(I,{children:[e&&!t&&!n&&Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/Mitto+Header.png",alt:"Mitto Header"}),t&&!n&&Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/Mitto+Header+TABLET.png",alt:"Mitto Header"}),n&&Object(c.jsx)("img",{src:"https://bitcoin-sv-gifter.s3.amazonaws.com/Mitto+Header+MOBILE.png",alt:"Mitto Header"})]})},N=A.a.Footer,H=function(){var e=Object(M.useMediaQuery)({query:"(min-device-width: 1224px)"}),t=Object(M.useMediaQuery)({query:"(max-width: 1224px)"}),n=Object(M.useMediaQuery)({query:"(max-width: 850px)"});return Object(c.jsxs)(N,{style:{marginTop:"-35%"},children:[e&&!t&&!n&&Object(c.jsx)("img",{style:{float:"right",width:"100%"},src:"https://bitcoin-sv-gifter.s3.amazonaws.com/Mitto+Footer+DESKTOP.png",alt:"Mitto Footer"}),t&&!n&&Object(c.jsx)("img",{style:{float:"right",width:"100%"},src:"https://bitcoin-sv-gifter.s3.amazonaws.com/Mitto+Footer+TABLET.png",alt:"Mitto Footer"}),n&&Object(c.jsx)("img",{style:{float:"right",width:"100%"},src:"https://bitcoin-sv-gifter.s3.amazonaws.com/Mitto+Footer+MOBILE.png",alt:"Mitto Footer"})]})},B=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Send Bitcoin via Email."}),Object(c.jsx)("h3",{children:"Simple, Fast and Private."}),Object(c.jsx)("div",{onClick:function(){return window.location.href="https://app.handcash.io/#/authorizeApp?appId=5fff949f4033300c3d87aed1"},id:"connectButton","app-id":"123-456",children:"Connect HandCash"})]})},E=A.a.Content,L=function(){return Object(c.jsx)(j.a,{children:Object(c.jsxs)(A.a,{children:[Object(c.jsx)(z,{}),Object(c.jsx)(E,{children:Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{path:"/",exact:!0,children:Object(c.jsx)(r.a,{className:"container",children:Object(c.jsx)(d,{children:Object(c.jsx)(o.a,{span:36,children:Object(c.jsx)(B,{})})})})}),Object(c.jsx)(h.a,{path:"/send",children:Object(c.jsx)(k,{})}),Object(c.jsx)(h.a,{exact:!0,path:"/redeem",children:Object(c.jsx)(C,{})}),Object(c.jsx)(h.a,{path:"/redeem/gift",children:Object(c.jsx)(F,{})})]})}),Object(c.jsx)(H,{})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,276)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(c.jsx)(L,{}),document.getElementById("root")),P()}},[[267,1,2]]]);
//# sourceMappingURL=main.3fb65208.chunk.js.map